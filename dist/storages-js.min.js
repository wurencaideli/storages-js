!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["storages-js"]=t():e["storages-js"]=t()}(self,(function(){return(()=>{"use strict";var e=[,(e,t,o)=>{o.r(t),o.d(t,{create:()=>s});var r=o(2),a=o(3);function s(e,t="",o={}){if(!t)throw"key不能为空";let{modelName:s}=o,n=(0,r.getModels)()[s];if(!n)throw`没有 ${s} 此模式。已有模式local,session,uni,wx`;let l=new a.default(t,e,{model:n});n.get(t)?l.value=l.getData():l.setData();const i=Symbol("StateKey");let c={value:l.value,[i]:"active",save(){g(),l.setData()},refresh(){g(),l.value=l.getData()},destroy(){c[i]="destroy",n.remove(t)},keys:()=>n.keys()};function g(){if("active"!=c[i])throw"该实例已被销毁"}return Object.defineProperty(c,"value",{set(e){g(),l.value=e,l.setData()},get:()=>(g(),l.value)}),c}s("test",void 0,{modelName:"local"})},(e,t,o)=>{function r(){return{local:{name:"local",get:e=>localStorage.getItem(e),set(e,t){localStorage.setItem(e,t)},remove(e){localStorage.removeItem(e)},kes:()=>Object.keys(localStorage)},session:{name:"session",get:e=>sessionStorage.getItem(e),set(e,t){sessionStorage.setItem(e,t)},remove(e){sessionStorage.removeItem(e)},kes:()=>Object.keys(sessionStorage)},uni:{name:"uni",get:e=>uni.getStorageSync(e),set(e,t){uni.setStorageSync(e,t)},remove(e){uni.removeStorageSync(e)},kes:()=>uni.getStorageInfoSync().keys},wx:{name:"wx",get:e=>wx.getStorageInfoSync.getItem(e),set(e,t){wx.setStorageInfoSync.setItem(e,t)},remove(e){wx.removeStorageSync.removeItem(e)},kes:()=>wx.getStorageInfoSync().keys}}}o.r(t),o.d(t,{getModels:()=>r})},(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});class r{constructor(e,t,o={}){this.key=e,this.value=t,this.model=o.model}setData(){const{key:e,model:t,value:o}=this;let r={value:o,type:typeof o,name:"StorageS-container"};return t.set(e,JSON.stringify(r)),r.value}getData(){const{key:e,model:t}=this;return JSON.parse(t.get(e)).value}}}],t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{o.r(r),o.d(r,{create:()=>e.create,getModels:()=>t.getModels});var e=o(1),t=o(2)})(),r})()}));